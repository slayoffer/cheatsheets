Профили позволяют настроить модель приложения Compose для различных применений и сред. При этом, реализация позволяет пользователю определять набор активных профилей. Точный механизм зависит от конкретной реализации и может включать флаги командной строки, переменные окружения и т.д.

Элемент верхнего уровня Services поддерживает атрибут profiles для определения списка именованных профилей. Службы без набора атрибутов profiles всегда должны быть включены.

Ссылки на другие сервисы (посредством ссылок, расширений или синтаксиса общего ресурса service:xxx) не должны автоматически включать компонент, который в противном случае был бы проигнорирован активными профилями.

Для лучшего понимания работы сервисов с профилями рассмотрим пример структуры файла:

```
services:
  foo:
    image: foo
  bar:
    image: bar
    profiles:
      - test
  baz:
    image: baz
    depends_on:
      - bar
    profiles:
      - test
  zot:
    image: zot
    depends_on:
      - bar
    profiles:
      - debug
```

В этом демо примере если нет включенного профиля, то будет использоваться только служба foo. Если включена проверка профиля test, модель содержит службы bar и baz, которые включены этим профилем, и service foo, который всегда включен. Если включена отладка профиля (debug), модель содержит как foo, так и zot-сервисы, но не bar и baz, и поэтому модель недействительна в отношении ограничения depends_on zot. И если включены профили debug и test, модель содержит все службы: foo, bar, baz и zot.