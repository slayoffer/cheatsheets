### Ansible Collections

Для организации репозиториев с Ansible кодом используют коллекции. Коллекция инкапсулирует весь необходимый код для какой-то высокоуровневой задачи. Например, можно оформить в коллекцию весь Ansible-код, необходимый для настройки сосисочной в Yandex Cloud и в этой коллекции будут все необходимые роли, плейбуки, плагины для `inventory`, а самое главное — собственные модули, которых не нашлось в других коллекциях.

Одна из сильных сторон Ansible — простая возможность расширить его функциональность с помощью собственных модулей и плагинов. Если модули используются непосредственно в задачах и запускаются на целевых серверах, то плагины упрощают работу с Ansible на контрольной ноде — сервере, где запускается сам Ansible.

Коллекции можно хранить в git-репозитории и устанавливать их оттуда или же публиковать на специальном сервисе — Ansible Galaxy.

Итоговый воркфлоу для вашей автоматизации управления конфигурацией может выглядеть следующим образом:

- Вы описываете зависимости в специальном файле (по соглашению `requirements.yaml`), в котором указываете список используемых коллекций.
- Устанавливаете зависимости с помощью утилиты ansible-galaxy и формируете inventory.
- Запускаете команду ansible-playbook с указанием плейбука.

Этот воркфлоу может быть запущен на CI системе, такой как GitLab, а также в специальной системе, построенной поверх Ansible — AWX. Она предоставляет графический интерфейс и упрощает некоторые задачи по работе с Ansible. Один из кейсов использования AWX — «выдать кнопку» инженерам Service Desk для выполнения рутинных операций, требующих как реакции на инцидент или запроса от пользователя.