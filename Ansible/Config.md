### Config file

```bash
sudo vim /etc/ansible.cfg
```

### Конфигурация Ansible

В файле `ansible.cfg` определены директивы конфигурации для всего набора утилит (`ansible`, `ansible-playbook`, `ansible-galaxy`, `ansible-vault`, etc...). В этом файле указывается расположение ролей, конфигурация **inventory** и имя пользователя для подключения к хостам:

**ansible.cfg**

```bash
[defaults]
roles_path = roles
inventory = inventory

remote_user = ansible

vault_password_file = .vault
host_key_checking = False
[privilege_escalation]
become = true # повышать привилегии (sudo) для выполняемых задач 
```

Ansible позволяет гибко настраивать окружение различными способами. Обратная сторона медали — это множество точек настройки. Для того чтобы не «выстрелить себе в ногу», нужно всегда учитывать взаимный приоритет способов настройки.

Ansible поддерживает следующие **способы передачи параметров конфигурации** (в порядке убывания приоритета):

1. Переменные (если значение переменной присвоено несколько раз — используется последнее значение).
2. Значения из плейбуков.
3. Значения, установленные через аргументы командной строки.
4. Значения из файла конфигурации.

Утилита `ansible-config` покажет список всех параметров конфигурации, их значения по умолчанию и поясняет, откуда пришло каждое значение.

Базовый способ настройки Ansible — это конфигурационный файл `ansible.cfg`.

Ansible ищет конфигурационные файлы в следующих местах по порядку (первый самый важный):

1. Путь из переменной окружения `ANSIBLE_CONFIG`.
2. `./ansible.cfg` (файл в текущем каталоге).
3. `~/.ansible.cfg` (файл в домашнем каталоге).
4. `/etc/ansible/ansible.cfg`.

Используется только первый найденный файл, остальные игнорируются.

Полный список параметров, задаваемых в файле конфигурации можно найти в соответствующем разделе документации Ansible.